<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">;
    <link rel="stylesheet" href="//src/lib/layui-v2.5.5/css/layui.css"  media="all">
</head>
<script type="text/html" template lay-done="layui.data.sendParams(d.params)">
    <input type="text" style="display: none;" name="id" value="{{d.params.id||''}}">
</script>
<form class="layui-form layui-row layui-col-space10 layui-bg-white" lay-filter="lawerForm">

    <div class="layui-col-md9 layui-col-xs12">
        <div class="layui-row layui-col-space10">
            <div class="layui-col-md9 layui-col-xs7">

                <div class="layui-form-item magt3">
                    <label class="layui-form-label lovexian-form-item-require">网关标识</label>
                    <div class="layui-input-block">
                        <input type="text" style="width:300px !important" class="layui-input gateId" name="gateId"  lay-verify="gateId" placeholder="请输入网关标识">
                    </div><!--actiontitle 需要改变变量名称-->
                </div>

               <!-- <div class="layui-inline">
                    <label class="layui-form-label" >DTU标识</label>
                    <div class="layui-input-inline" style="width:300px !important" >
                        <select name="languageType"  lay-verify="required"  onchange = "changeLanguageType()">
                            <option value="">直接选择或搜索选择</option>
                            <option value="1">10</option>
                            <option value="2">11</option>
                            <option value="3">12</option>
                            <option value="4">13</option>
                            <option value="5">14</option>
                            <option value="6">15</option>
                            <option value="7">16</option>
                            <option value="8">17</option>
                            <option value="9">18</option>
                            <option value="10">19</option>
                        </select>
                    </div>
                </div>-->

                <!--<div class="layui-form-item magt3">
                    <label class="layui-form-label">DTU标识</label>
                    <div class="layui-input-block">
                        <input type="text" style="width:300px !important" class="layui-input dtuId" lay-verify="dtuId" name="dtuId" placeholder="请输入网关标识">
                    </div>&lt;!&ndash;同样需要修改变量名称&ndash;&gt;
                </div>-->
                <div class="layui-form-item openness">
                    <label class="layui-form-label lovexian-form-item-require"><i class="seraph icon-look"></i> 关联DTU</label>
                    <div class="layui-input-block actionStatus" style="width:300px ">
                        <select name="dtuId" lay-verify="required" xm-select="example6_3" onchange="changeLanguageType()" lay-filter="test" id="dtuId" lay-search>
                        </select>
                    </div>
                </div>

                <!--<select name="pttId" id="pttId" lay-filter="pttId" lay-verify="required">
                    <option value=""></option>
                </select>-->



                <div class="layui-form-item magt3">
                    <label class="layui-form-label">经度</label>
                    <div class="layui-input-block">
                        <input type="text" style="width:300px !important" class="layui-input longitude" lay-verify="longitude" name="longitude" placeholder="请输入经度">
                    </div><!--同样需要修改变量名称-->
                </div>

                <div class="layui-form-item magt3">
                    <label class="layui-form-label">纬度</label>
                    <div class="layui-input-block">
                        <input type="text" style="width:300px !important" class="layui-input latitude" lay-verify="latitude" name="latitude" placeholder="请输入纬度">
                    </div><!--同样需要修改变量名称-->
                </div>

                <div class="layui-form-item openness">
                    <label class="layui-form-label lovexian-form-item-require"><i class="seraph icon-look"></i> 网关状态</label>
                    <div class="layui-input-block actionStatus" style="width: 300px ">
                        <select id="status" name="status" lay-verify="required" onchange="changeLanguageType()">
                            <option value>请选择状态</option>
                            <option value="0">在线</option>
                            <option value="1">离线</option>
                            <option value="2" >未启用</option>
                        </select>
                    </div>
                </div>

                <!--<div class="layui-form-item magt3">
                    <label class="layui-form-label">状态</label>
                    <div class="layui-input-block">
                        <input type="text" style="width:300px !important" class="layui-input status" lay-verify="status" name="status" placeholder="请选择网关状态">
                    </div>&lt;!&ndash;同样需要修改变量名称&ndash;&gt;
                </div>-->

                <div class="layui-form-item magt3">
                    <label class="layui-form-label">当前电量</label>
                    <div class="layui-input-block">
                        <div class="layui-input-inline">
                            <input type="text" style="width:300px !important" name="elecCharge" id="elecCharge" class="layui-input elecCharge" placeholder="请输入当前电量">
                        </div>
                    </div>
                    <!--<div class="layui-form-label">
                       <div class="layui-slider" id="slideTest1" ></div>
                    </div>&lt;!&ndash;同样需要修改变量名称&ndash;&gt;-->
                </div>

                <div class="layui-form-item magt3">
                    <label class="layui-form-label">服务器地址</label>
                    <div class="layui-input-block">
                        <div class="layui-input-inline">
                            <input type="text" style="width:300px !important" name="serverIp" id="serverIp" class="layui-input serverIp" placeholder="请输入服务器地址">
                        </div>
                    </div><!--同样需要修改变量名称-->
                </div>

                <div class="layui-form-item magt3">
                    <label class="layui-form-label">服务器端口</label>
                    <div class="layui-input-block">
                        <div class="layui-input-inline">
                            <input type="text" style="width:300px !important" name="serverPort" id="serverPort" class="layui-input serverPort" placeholder="请输入服务器端口">
                        </div>
                    </div><!--同样需要修改变量名称-->
                </div>

                <!--<div class="layui-form-item magt3">
                    <label class="layui-form-label">删除状态</label>
                    <div class="layui-input-block">
                        <div class="layui-input-inline">
                            <input type="text" style="width:300px !important" name="deleteState" id="deleteState" class="layui-input deleteState" placeholder="删除状态">
                        </div>
                    </div>&lt;!&ndash;同样需要修改变量名称&ndash;&gt;
                </div>-->

                <div class="layui-form-item magt3">
                    <label class="layui-form-label">位置信息</label>
                    <div class="layui-input-block">
                        <div class="layui-input-inline">
                            <textarea style="width: 400px;height: 100px" placeholder="请输入位置信息" class="layui-textarea descInfo" name="descInfo" ></textarea>
                        </div>
                    </div><!--同样需要修改变量名称-->
                </div>

                <div class="layui-col-md3 layui-col-xs12">
                    <div style=" width: 500px;left: -200px;height: 10px; bottom: -500px" class="layui-right">
                        <a id="saveBtn" class="layui-btn layui-btn-normal" lay-filter="addNews" lay-submit><i class="layui-icon">&#xe621;</i>保存</a>
                        <a id="relateDtus" class="layui-btn layui-btn-normal" lay-filter="relateDtus" lay-submit><i class="layui-icon">&#xe621;</i>关联</a>
                        <!--<a class="layui-btn layui-btn-primary layui-btn-normal" lay-filter="cancelBtn" lay-submit><i class="layui-icon">&#xe669;</i>取消</a>-->
                        <a class="layui-btn layui-btn-primary layui-btn-sm" lay-filter="cancelBtn" lay-submit>取消</a>
                    </div>
                </div>



            </div>
        </div>
    </div>
</form>

<!--
<script>
    layui.use(['jquery','form'], function(){  // 加载模块
        let $ = layui.jquery;
        form = layui.form;
        // 监听 省
        form.on('select(province)', function(data){
            let province = data.value
            $.post('/admin/dtus/getDtuId',{
                province:province, // 省名称
                _token:"{{ csrf_token() }}"
            })
        });
    });
    // 封装的渲染的方法
    function showData(elem,data) {
        let $ = layui.jquery
        let form = layui.form
        // 进行循环渲染select
        $(data).each(function (i, n) {
            $("#"+elem+"").append("<option value='" + n.item + "'>" + n.item + "</option>")
            // 这里的item是后端定义的数据字段名,根据你们的情况进行更改喔
        });
        form.render('select') // layui重新渲染select的方法
    }
</script>
-->


<script>
    var starEle;
    var starNum = 0;
    layui.data.sendParams = function(params){
        if(params.isEdit){
            starNum = params.star;
        }
        layui.use('rate', function(){
            var rate = layui.rate;
            //渲染
            starEle = rate.render({
                elem: '#test2',  //绑定元素,
                length: 5,
                value: starNum
                ,choose: function(value){
                    starNum = value;
                }
            });
        });
    };
</script>
</html>